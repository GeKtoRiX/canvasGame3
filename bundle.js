(()=>{"use strict";var i={156:(i,t,o)=>{i.exports=o.p+"6967efc2c9ee1250dc72.png"},928:(i,t,o)=>{i.exports=o.p+"66b2c6fcf4a806ae78fc.png"}},t={};function o(e){var s=t[e];if(void 0!==s)return s.exports;var n=t[e]={exports:{}};return i[e](n,n.exports,o),n.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"==typeof window)return window}}(),(()=>{var i;o.g.importScripts&&(i=o.g.location+"");var t=o.g.document;if(!i&&t&&(t.currentScript&&(i=t.currentScript.src),!i)){var e=t.getElementsByTagName("script");e.length&&(i=e[e.length-1].src)}if(!i)throw new Error("Automatic publicPath is not supported in this browser");i=i.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=i})(),(()=>{var i=o(156),t=o(928);const e=o.p+"src/components/Canvas/sounds/playerShotSound.wav",s=o.p+"src/components/Canvas/sounds/backgroundMusic.wav",n=o.p+"src/components/Canvas/sounds/invaderShotSounds.wav",a=o.p+"src/components/Canvas/sounds/invaderDeath.wav",h=o.p+"src/components/Canvas/sounds/playerDeath.wav";function r(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function p(i,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function c(i,t,o){return t&&p(i.prototype,t),o&&p(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}var d=new Audio(e),l=new Audio(s),u=new Audio(n),y=new Audio(a),v=new Audio(h),f=document.getElementById("scoreNum"),w=document.getElementById("uiMenu"),x=document.getElementById("uiMenuGo"),g=document.getElementById("canvas"),m=g.getContext("2d");g.width=window.innerWidth-4,g.height=window.innerHeight-4;var z={a:{pressed:!1},d:{pressed:!1},space:{pressed:!1}},k=0,b=!0,M=[],E=[],S=[],P=[],I=[];x.addEventListener("click",(function(){l.loop=!0,l.load(),l.play(),x.style.display="none",w.style.display="none",k=0,b=!1,M=[],E=[],S=[],P=[],I=[],q()})),window.addEventListener("keydown",(function(i){switch(i.key){case"a":z.a.pressed=!0;break;case"d":z.d.pressed=!0;break;case" ":var t=360*Math.random();d.play(),S.push(new C({position:{x:F.position.x+F.size.width/2,y:F.position.y-F.size.height},velocity:{x:0,y:-15}},15,"hsl(".concat(t,", 50%, 50%)"))),z.space.pressed=!0;break;default:console.log("undefined key")}})),window.addEventListener("keyup",(function(i){switch(i.key){case"a":z.a.pressed=!1;break;case"d":z.d.pressed=!1;break;case" ":d.load(),d.play(),z.space.pressed=!1;break;default:console.log("undefined key")}}));var A=function(){function i(){var o=this;r(this,i),this.size={width:0,height:0};var e=new Image;e.src=t,e.onload=function(){o.playerShip=e,o.size.width=.25*o.playerShip.width,o.size.height=.25*o.playerShip.height},this.position={x:g.width/2,y:g.height},this.velocity={x:0,y:0},this.rotation=0}return c(i,[{key:"draw",value:function(){m.save(),m.translate(F.position.x+F.size.width/2,F.position.y+F.size.height/2),m.rotate(this.rotation),m.translate(-F.position.x-F.size.width/2,-F.position.y-F.size.height/2),m.drawImage(this.playerShip,this.position.x,this.position.y-this.size.height,this.size.width,this.size.height),m.restore()}},{key:"update",value:function(){this.playerShip&&(F.draw(),this.position.x+=this.velocity.x)}}]),i}(),C=function(){function i(t,o,e){var s=t.position,n=t.velocity;r(this,i),this.position=s,this.velocity=n,this.radius=o,this.color=e}return c(i,[{key:"draw",value:function(){m.fillStyle=this.color,m.beginPath(),m.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI,!1),m.fill(),m.closePath()}},{key:"update",value:function(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}}]),i}(),B=function(){function i(t,o){var e=t.position,s=t.velocity;r(this,i),m.lineCap="square",this.position=e,this.velocity=s,this.size={width:12,height:30},this.color=o}return c(i,[{key:"draw",value:function(){m.fillStyle=this.color,m.fillRect(this.position.x,this.position.y,this.size.width,this.size.height)}},{key:"update",value:function(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}}]),i}(),T=function(){function i(t,o,e){var s=t.position,n=t.velocity;r(this,i),this.position=s,this.velocity=n,this.radius=o,this.color=e,this.opacity=1}return c(i,[{key:"draw",value:function(){m.fillStyle=this.color,m.shadowBlur=40,m.save(),m.globalAlpha=this.opacity,m.beginPath(),m.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI,!1),m.fill(),m.closePath(),m.restore()}},{key:"update",value:function(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.opacity-=.01}}]),i}(),j=function(){function i(){r(this,i),this.position={x:Math.random()*g.width,y:Math.random()*g.height},this.velocity={x:0,y:1},this.radius=4*Math.random()+.5,this.color="hsl(".concat(360*Math.random(),", 50%, 50%)"),m.shadowBlur=20}return c(i,[{key:"draw",value:function(){m.fillStyle=this.color,m.globalAlpha=this.opacity,m.beginPath(),m.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI,!1),m.fill(),m.closePath()}},{key:"update",value:function(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}}]),i}(),L=function(){function t(o){var e=this,s=o.position;r(this,t),this.size={width:0,height:0};var n=new Image;n.src=i,n.onload=function(){e.invader=n,e.size.width=.08*e.invader.width,e.size.height=.08*e.invader.height},this.position={x:s.x,y:s.y},this.velocity={x:0,y:0}}return c(t,[{key:"draw",value:function(){m.drawImage(this.invader,this.position.x,this.position.y,this.size.width,this.size.height)}},{key:"update",value:function(i){var t=i.velocity;this.invader&&(this.draw(),this.position.x+=t.x,this.position.y+=t.y)}},{key:"shoot",value:function(i){u.play(),setTimeout((function(){u.load()}),1e3),u.play(),i.push(new B({position:{x:this.position.x+this.size.width/2,y:this.position.y+this.size.height},velocity:{x:0,y:5}},"#ffd700"))}}]),t}(),$=function(){function i(){r(this,i);var t=Math.floor(6*Math.random()+4),o=Math.floor(3*Math.random()+1);this.position={x:0,y:0},this.velocity={x:4,y:0},this.invaders=[],this.width=97*t;for(var e=0;e<t;e++)for(var s=0;s<o;s++)this.invaders.push(new L({position:{x:100*e,y:100*s}}))}return c(i,[{key:"update",value:function(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.y=0,(this.position.x+this.width>=g.width||this.position.x<=0)&&(this.velocity.x=-this.velocity.x,this.velocity.y=200)}}]),i}();function q(){for(var i=0;i<100;i++)E.push(new j)}var D=0,F=new A;!function i(){window.requestAnimationFrame(i),m.fillStyle="rgba(0, 0, 0, 0.5)",m.fillRect(0,0,g.width,g.height),E.forEach((function(i){i.position.y-i.radius>=g.height?(i.position.x=Math.random()*g.width,i.position.y=-i.radius):i.update()})),b||F.update(),M.forEach((function(i,t){i.opacity<=0?M.splice(t,1):i.update()})),b||S.forEach((function(i,t){i.position.y+i.radius<=0?S.splice(t,1):i.update()})),b||I.forEach((function(i){i.update(),D%100==0&&i.invaders.length>0&&i.invaders[Math.floor(Math.random()*i.invaders.length)].shoot(P),i.invaders.forEach((function(t,o){t.update({velocity:i.velocity}),S.forEach((function(e,s){if(e.position.y-e.radius<=t.position.y+t.size.height-50&&e.position.x+e.radius>=t.position.x&&e.position.x-e.radius<=t.position.x+t.size.width&&e.position.y+e.radius>=t.position.y){y.play(),y.load(),y.play();for(var n=0;n<14*Math.random()+7;n++)M.push(new T({position:{x:t.position.x+t.size.width/2,y:t.position.y+t.size.height/2},velocity:{x:3*(Math.random()-.5),y:2*(Math.random()-.5)}},3*Math.random()+.5,"#8a2be2"));setTimeout((function(){if(i.invaders.splice(o,1),S.splice(s,1),i.invaders.length>0){var t=i.invaders[0],e=i.invaders[i.invaders.length-1];i.width=e.position.x-t.position.x+e.size.width,i.position.x=t.position.x}}),0),k++,f.innerHTML=k,console.log(M)}}))}))})),P.forEach((function(i,t){if(i.position.y+i.size.height>=g.height?P.splice(t,1):i.update(),i.position.y+i.size.height>=F.position.y-F.size.height/2&&i.position.x+i.size.width>=F.position.x&&i.position.x<=F.position.x+F.size.width){P.splice(t,1),b=!0;for(var o=0;o<28*Math.random()+14;o++)M.push(new T({position:{x:i.position.x+i.size.width/2,y:i.position.y+i.size.height/2},velocity:{x:3*(Math.random()-.5),y:2*(Math.random()-.5)}},3*Math.random()+.8,"#90ee90"));l.pause(),v.play(),x.style.display="flex",w.style.display="flex"}})),z.a.pressed&&F.position.x>=0?(F.velocity.x=-10,F.rotation=-.15):z.d.pressed&&F.position.x+F.size.width<=g.width?(F.velocity.x=10,F.rotation=.15):z.space.pressed||(F.velocity.x=0,F.rotation=0),D%1e3==0&&(I.push(new $),console.log(I)),D++}(),q()})()})();